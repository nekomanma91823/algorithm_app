---
tags:
  - computer_science
  - software
alias: プロセスとスレッドの違い
---

# プロセスとスレッドの違い：キッチンと料理人で理解しよう

コンピュータが複数の作業を同時にこなす「マルチタスク」を理解する上で、**プロセス**と**スレッド**は非常に重要な概念です。この2つはよく混同されがちですが、役割が明確に異なります。その違いを「料理」に例えて、初心者にも分かりやすく解説します。

## 基本的な関係：プロセス ⊃ スレッド

まず大切なのは、プロセスとスレッドは**階層関係**にあるということです。**プロセスという大きな枠組みの中に、1つ以上のスレッドが存在します**。

-   **プロセス (Process)**
    -   OSから見た「**プログラムの実行単位**」。
    -   アプリケーション（WordやChromeなど）を起動すると、OSはそれにメモリ空間などを割り当て、1つのプロセスを生成します。
    -   **例えるなら**: 独立した「**キッチン**」。

-   **スレッド (Thread)**
    -   プロセス内での「**処理の実行単位**」。CPUが実際に処理を行う最小単位です。
    -   1つのプロセスは、1つ以上のスレッドを持つことができます。
    -   **例えるなら**: キッチンの中で働く「**料理人**」。

## 例え話で理解する

### プロセスは「独立したキッチン」

-   Wordを起動すると「Word用のキッチン」が、Chromeを起動すると「Chrome用のキッチン」が作られます。
-   それぞれのキッチンは**壁で完全に仕切られており、独立しています**。調理器具や食材（メモリ空間）は、それぞれのキッチン専用で、他のキッチンから勝手に使われることはありません。
-   この独立性のおかげで、仮に「Chromeキッチン」でボヤ（エラー）が起きても、「Wordキッチン」に燃え移ることはありません。これにより、**システム全体が安定します**。

### スレッドは「キッチンで働く料理人」

-   一つのキッチン（プロセス）の中で、複数の料理人（スレッド）が働くことができます。
-   例えば、Webブラウザというキッチンで、
    -   Aさん（スレッドA）は「Webページを表示する」
    -   Bさん（スレッドB）は「音楽を再生する」
    -   Cさん（スレッドC）は「ファイルをダウンロードする」
    といった作業を**同時に**進めることができます。
-   料理人たちは、同じキッチンにある調理器具や食材（メモリ）を**共有**しながら作業を進めます。これにより、効率的にコース料理（アプリケーションの機能）を提供できます。

もし料理人が一人（シングルスレッド）だったら、ファイルのダウンロードが終わるまで、Webページは固まってしまい、音楽も止まってしまいます。複数の料理人（マルチスレッド）がいるからこそ、快適な操作が実現できるのです。

## 主な違いのまとめ

| 特徴 | プロセス (キッチン) | スレッド (料理人) |
| :--- | :--- | :--- |
| **役割** | プログラムの実行単位 | プロセス内の処理の実行単位 |
| **メモリ空間** | **独立している**（他のプロセスと共有しない） | 同じプロセス内で**共有する** |
| **生成コスト** | **重い**（新しいキッチンを作るのは大変） | **軽い**（新しい料理人を雇うのは比較的簡単） |
| **通信** | プロセス間通信は少し手間がかかる | スレッド間はメモリを共有しているので容易 |
| **安定性** | **高い**（他のプロセスの影響を受けにくい） | **低い**（一人の料理人のミスがキッチン全体に影響する可能性がある） |

## なぜスレッドが必要なのか？

スレッドの最大のメリットは、**リソースの共有による効率化**と**応答性の向上**です。

-   **効率化**: 新しい処理ごとにお金と時間がかかるキッチン（プロセス）を作るのではなく、既存のキッチンに料理人（スレッド）を追加するほうが、はるかに低コストで済みます。
-   **応答性（レスポンス）**: 時間のかかる処理（重いファイルのダウンロードなど）を裏方の料理人（バックグラウンドスレッド）に任せている間に、表側の料理人（UIスレッド）がユーザーからの注文（クリック操作など）に応対し続けることができます。これにより、アプリが「固まった」ように見えるのを防ぎます。

---

## 視覚化のアイデア

-   **「キッチンと料理人」のイラスト**:
    -   複数の独立した部屋（プロセス）を描き、それぞれに「Word」「Chrome」とラベルを付ける。
    -   各部屋の中には、1人または複数の料理人（スレッド）が、共有の調理台（メモリ）を使って作業している様子を描く。
    -   部屋の壁は厚く、行き来できないことを強調する（プロセスの独立性）。
-   **階層構造のブロック図**:
    -   大きな四角い箱で「プロセス」を表す。箱には「メモリ空間」と書く。
    -   その箱の中に、小さな円で「スレッド」を複数描く。
    -   CPUのイラストから、各スレッドに向かって矢印が伸びている様子を描き、CPUが直接実行するのはスレッド単位であることを示す。
-   **シングルスレッド vs マルチスレッドの比較**:
    -   **シングルスレッド**: 一人の店員が「レジ打ち」「品出し」「掃除」を順番に一つずつやっているコンビニのイラスト。レジに行列ができても品出しを優先してしまう。
    -   **マルチスレッド**: 「レジ専門」「品出し専門」「掃除専門」と複数の店員が同時に作業しているコンビニのイラスト。客が来たらレジ担当がすぐに対応できる。
