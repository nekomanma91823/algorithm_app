---
tags:
  - computer_science
  - algorithm
alias: 計算量とは
---

# 計算量とは？：アルゴリズムの「燃費」を測ろう

## 概要

計算量とは、ある**アルゴリズム（計算手順や問題の解き方）が、どれくらい効率的かを示す指標**です。同じ目的地に行くにも、最短ルートで行くのと、わざと遠回りしていくのでは、時間やガソリンの消費が全く違います。計算量は、この「時間」や「ガソリン」に相当する、アルゴリズムの「燃費」や「体力」のようなものだと考えてください。

特に、扱うデータの量が大きくなればなるほど、この計算量の違いは処理時間に天と地ほどの差を生み出します。

計算量には、主に2つの指標があります。

1.  **時間計算量 (Time Complexity)**
    -   アルゴリズムが処理を終えるまでに、どれくらいの「時間（ステップ数）」がかかるか。
    -   一般的に「計算量」という場合、こちらを指すことが多いです。

2.  **空間計算量 (Space Complexity)**
    -   アルゴリズムが処理を行うために、どれくらいの「メモリ（作業スペース）」を必要とするか。

この記事では、特に重要な**時間計算量**に焦点を当てて解説します。

## なぜ計算量が重要なのか？

例えば、10人のクラスの名簿から特定の生徒を探すのは簡単です。しかし、これが100万人の都市の住民名簿から探すとなると、探し方（アルゴリズム）の効率が非常に重要になります。

-   **非効率なアルゴリズム**: 100万人の名簿を、端から一人ずつ順番に見ていく。最悪の場合、100万回確認する必要がある。
-   **効率的なアルゴリズム**: 五十音順に整理された名簿を、真ん中あたりから開いて探す（二分探索）。これなら、わずか20回程度の確認で見つけ出せます。

このように、扱うデータ量 `n` が大きくなったときに、計算時間がどれくらい増えてしまうのかを予測するために、計算量の考え方が不可欠なのです。

## 計算量の表し方：「O記法（オーダー記法）」

アルゴリズムの効率を客観的に比較するために、**O記法（オーダーきほう, Big O notation）**という特殊な表現が使われます。これは、データ量 `n` が増えたときに、計算回数（ステップ数）が**どれくらいの勢いで増えるか**という「増加のオーダー（桁）」を示したものです。

O記法では、細かい部分は無視し、**`n` の増加に対して最も影響の大きい項だけを残して**シンプルに表現します。
例: `3n² + 2n + 5` という計算ステップ数のアルゴリズムがあった場合、nが非常に大きくなると `2n` や `5` の影響は無視できるほど小さくなるため、最も影響が大きい `n²` の項だけを取り出し、係数の `3` も無視して **O(n²)** と表現します。

### 代表的な計算量の種類（速い順）

| O記法 | 名称 | 特徴と具体例 | 燃費のイメージ |
| :--- | :--- | :--- | :--- |
| **O(1)** | 定数時間 | **最速**。データ量`n`に関係なく、常に一定時間で終わる。 <br> **例**: 配列の`i`番目の要素を取り出す。 | どんなに遠くても瞬間移動 |
| **O(log n)** | 対数時間 | **非常に速い**。データ量が倍になっても、処理は数ステップしか増えない。<br> **例**: ソート済みリストから探す「二分探索」。 | 距離が倍になっても燃料消費は微増 |
| **O(n)** | 線形時間 | **普通**。データ量`n`に比例して、処理時間も素直に増える。<br> **例**: リストの全要素を先頭から順番に探す「線形探索」。 | 距離と燃費が比例する普通の車 |
| **O(n log n)** | 線形対数時間 | **比較的速い**。効率的なソートアルゴリズムでよく見られる。<br> **例**: マージソート、クイックソート。 | やや燃費の良いハイブリッド車 |
| **O(n²)** | 二乗時間 | **遅い**。データ量が2倍になると処理時間は4倍、10倍になると100倍になる。二重ループが典型。<br> **例**: バブルソート。 | 距離の二乗で燃費が悪化する車 |
| **O(2ⁿ)** | 指数時間 | **非常に遅い**。データ量が少し増えるだけで爆発的に処理時間が増加し、実用的でなくなることが多い。<br> **例**: 全ての組み合わせをしらみつぶしに試すような問題。 | 少し進むだけで燃料をほぼ使い切るロケット |

---

## 視覚化のアイデア

-   **計算量の増加グラフ**:
    -   横軸にデータ量 `n`、縦軸に計算時間（ステップ数）をとったグラフを描く。
    -   `O(1)`（真横の直線）、`O(log n)`（緩やかなカーブ）、`O(n)`（右上がりの直線）、`O(n²)`（急なカーブ）、`O(2ⁿ)`（ほぼ垂直に急上昇する曲線）を一枚のグラフに描き、`n`が大きくなるにつれて、いかに差が開くかを視覚的に示す。
-   **「辞書で単語を探す」アニメーション**:
    -   **線形探索 O(n)**: 辞書を1ページ目から順番にめくっていくアニメーション。
    -   **二分探索 O(log n)**: まず辞書の真ん中を開き、探す単語がそれより前か後ろかで、調べる範囲を半分に絞っていく様子を繰り返すアニメーション。効率の違いが一目瞭然になる。
-   **ソートアルゴリズムの比較**:
    -   ランダムに並んだ棒グラフを、異なるアルゴリズムでソートする様子を並べて比較する動画。
    -   **バブルソート O(n²)**: 隣同士を比較して入れ替えるのを何度も繰り返し、非常に時間がかかる様子。
    -   **マージソート O(n log n)**: 一度バラバラにしてから、効率よくグループ化して統合していく様子。
    -   処理ステップ数をカウンターで表示し、速度差を数値でも示す。
